{% extends 'myapp/base_no_sidebar.html' %}
{% load static %}

{% block title %}Sign Up{% endblock %}

{% block content %}
<div class="container-fluid min-vh-100 d-flex align-items-center justify-content-center">
  <div class="row w-100 shadow rounded overflow-hidden" style="max-width: 1000px; background:#fff;">
    
    <!-- Left: Form -->
    <div class="col-md-6 p-5">
      <h1 class="mb-4">Summit Study</h1>
      <h3 class="mb-4">Create your account</h3>

      {% if messages %}
        <div class="mb-3">
          {% for message in messages %}
            <div class="alert alert-{{ message.tags }}">{{ message }}</div>
          {% endfor %}
        </div>
      {% endif %}

      <form method="post" novalidate>
        {% csrf_token %}

        <!-- Email -->
        <div class="mb-3">
          {{ form.email.label_tag }}
          {{ form.email }}
          {% if form.email.errors %}
            <div class="text-danger">{{ form.email.errors }}</div>
          {% endif %}
        </div>

        <!-- Password -->
        <div class="mb-3">
          {{ form.password1.label_tag }}
          {{ form.password1 }}
          {% if form.password1.errors %}
            <div class="text-danger">{{ form.password1.errors }}</div>
          {% endif %}
        </div>

        <!-- Confirm Password -->
        <div class="mb-3">
          {{ form.password2.label_tag }}
          {{ form.password2 }}
          {% if form.password2.errors %}
            <div class="text-danger">{{ form.password2.errors }}</div>
          {% endif %}
        </div>

        <div class="mb-3">
          <label class="form-check-label" style="font-size:0.9rem;">
            <input type="checkbox" name="terms" class="form-check-input me-1"> 
            I agree to the  <a href="{% url 'service:terms_and_conditions' %}" class="link-primary">Terms & Conditions</a>
          </label>
        </div>

        <button type="submit" class="btn btn-dark w-100 py-2">Sign Up</button>

        <p class="mt-3 text-center">
          Already have an account? <a href="{% url 'accounts:login_view' %}">Sign in</a>
        </p>
      </form>

     {% if form.errors %}
  <div class="alert alert-danger alert-dismissible fade show mt-3" role="alert">
    <ul class="mb-0">
      {% for field, errors in form.errors.items %}
        {% for error in errors %}
          <li>
            {% if field != '__all__' %}
              <strong>{{ field|capfirst }}:</strong>
            {% endif %}
            {{ error }}
          </li>
        {% endfor %}
      {% endfor %}
    </ul>
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
{% endif %}
 

    </div>

    <!-- Right: Image -->
    <div class="col-md-6 d-none d-md-block" 
         style="background: url('{% static "images/signup_image.png" %}') center/cover no-repeat;">
    </div>

  </div>
</div>

<style>
body {
  background: #f0f4f8;
  font-family: 'Segoe UI', sans-serif;
}

.form-control {
  border-radius: 8px;
  padding: 12px 15px;
  font-size: 1rem;
  border: 1px solid #ccc;
}

.form-control:focus {
  border-color: #0077cc;
  box-shadow: 0 0 0 0.2rem rgba(0,123,255,.15);
}

.btn-dark {
  background: #000;
  border-radius: 8px;
}

.btn-dark:hover {
  background: #333;
}
</style>
{% endblock %}
