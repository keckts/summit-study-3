{% extends 'myapp/base.html' %}
{% load static %}

{% block content %}
<div class="container my-5">
  <div class="card shadow rounded">
    <div class="card-body">
      <h2 class="mb-4">Recent Activity</h2>
      <table class="table align-middle">
        <thead>
          <tr>
            <th>Type</th>
            <th>Title</th>
            <th>Date</th>
            <th class="text-end">Score</th>
          </tr>
        </thead>
        <tbody>
          {% for result in recent_practice %}
            <tr>
              <td>
                <span class="badge bg-light text-dark border px-3 py-2"><i class="bi bi-journal-text me-1"></i> Exam</span>
              </td>
              <td>{{ result.practice_test.title }}</td>
              <td>{{ result.taken_at|date:"d/m/Y" }}</td>
              <td class="text-end">
                {% if result.score >= 80 %}
                  <span class="badge bg-dark text-white px-3 py-2">{{ result.score }}% - Great!</span>
                {% elif result.score >= 50 %}
                  <span class="badge bg-warning text-dark px-3 py-2">{{ result.score }}% - Good job!</span>
                {% else %}
                  <span class="badge bg-light text-dark border px-3 py-2">{{ result.score }}% - Keep trying!</span>
                {% endif %}
              </td>
            </tr>
          {% endfor %}
          {% for result in recent_writing %}
            <tr>
              <td>
                <span class="badge bg-light text-dark border px-3 py-2"><i class="bi bi-pencil-square me-1"></i> Writing</span>
              </td>
              <td>{{ result.writing_task.title }}</td>
              <td>{{ result.taken_at|date:"d/m/Y" }}</td>
              <td class="text-end">
                {% if result.score >= 80 %}
                  <span class="badge bg-dark text-white px-3 py-2">{{ result.score }}% - Great!</span>
                {% elif result.score >= 50 %}
                  <span class="badge bg-warning text-dark px-3 py-2">{{ result.score }}% - Good job!</span>
                {% else %}
                  <span class="badge bg-light text-dark border px-3 py-2">{{ result.score }}% - Keep trying!</span>
                {% endif %}
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>

<!-- Optionally add Bootstrap icons CDN in your base.html head -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

{% endblock %}